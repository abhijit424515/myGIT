write MAP function from scratch
